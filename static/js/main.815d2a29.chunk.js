(this["webpackJsonpsitigrid-app"]=this["webpackJsonpsitigrid-app"]||[]).push([[0],{236:function(e,t,n){e.exports=n(426)},422:function(e,t,n){},426:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),r=n(11),c=n.n(r),l=n(472),m=n(471),i=n(122),u=n.n(i),s=n(180),p=n(38),E=n(467),g=n(468),f=n(462),d=n(469),h=n(194),b=n.n(h),D=n(473),y=n(477),k=n(474),A=n(39),v=n(70),O=n(470),C=n(475),j=n(464),w=n(466),H=n(463),x=n(465),M=n(461),N=n(429),Y=n(19),F=n(458),S=n(7),B=n(460),W=Object(F.a)({table:{minWidth:400},container:{maxHeight:440}}),G=Object(S.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(B.a),K=Object(S.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(M.a),R=n(41),T=n.n(R);function z(e){var t=Object(a.useState)([]),n=Object(p.a)(t,2),r=n[0],c=n[1],l=W();if(Object(a.useEffect)((function(){console.log("inside Consumption useEffect");var e=[{consumptionAmount:75,consumptionDate:158858073e4},{consumptionAmount:50,consumptionDate:1588596856e3},{consumptionAmount:100,consumptionDate:1588686856e3},{consumptionAmount:80,consumptionDate:1588700199e3},{consumptionAmount:95,consumptionDate:1588711539e3},{consumptionAmount:25,consumptionDate:158958073e4},{consumptionAmount:50,consumptionDate:1589596856e3},{consumptionAmount:75,consumptionDate:1589686856e3},{consumptionAmount:65,consumptionDate:1589700199e3},{consumptionAmount:45,consumptionDate:1589711539e3},{consumptionAmount:10,consumptionDate:159058073e4},{consumptionAmount:15,consumptionDate:1590596856e3},{consumptionAmount:20,consumptionDate:1590686856e3},{consumptionAmount:25,consumptionDate:1590700199e3},{consumptionAmount:30,consumptionDate:1590711539e3}].map((function(e){return{key:e.consumptionDate,consumptionAmount:e.consumptionAmount,consumptionDate:e.consumptionDate,cost:.09*e.consumptionAmount}}));c(e)}),[]),!Array.isArray(r)||0===r.length)return console.log("Null consumptions"),null;console.log("Consumptions length = "+r.length);var m=r.map((function(e){return o.a.createElement(K,{key:e.key},o.a.createElement(G,{component:"th",scope:"row"},T()(e.consumptionDate).format("DD/MM/YY HH:mm")),o.a.createElement(G,{align:"right"},e.consumptionAmount),o.a.createElement(G,{align:"right"},e.cost.toFixed(2)))}));return o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a,{variant:"caption"},o.a.createElement(Y.c,{height:350,width:"95%"},o.a.createElement(Y.b,{data:r,margin:{top:20,right:30,left:10,bottom:60}},o.a.createElement("defs",null,o.a.createElement("linearGradient",{id:"colorCons",x1:"0",y1:"0",x2:"0",y2:"1"},o.a.createElement("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.8}),o.a.createElement("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0}))),o.a.createElement(Y.e,{dataKey:"consumptionDate",name:"Time",domain:["auto","auto"],type:"number",tickFormatter:function(e){return T()(e).format("DD/MM/YY HH:mm")},angle:-45,textAnchor:"end"}),o.a.createElement(Y.f,null),o.a.createElement(Y.d,{labelFormatter:function(e){return T()(e).format("DD/MM/YY HH:mm")},formatter:function(e){return"\xa3"+e.toFixed(2)}}),o.a.createElement(Y.a,{type:"monotone",dataKey:"cost",stroke:"#8884d8",fillOpacity:1,fill:"url(#colorCons)"})))),o.a.createElement(H.a,{className:l.container,component:N.a},o.a.createElement(j.a,{stickyHeader:!0,className:l.table,"aria-label":"simple table"},o.a.createElement(x.a,null,o.a.createElement(M.a,null,o.a.createElement(G,null,"Date"),o.a.createElement(G,{align:"right"},"Electricity consumed (kWh)"),o.a.createElement(G,{align:"right"},"Cost (\xa3)"))),o.a.createElement(w.a,null,m))))}function J(e){var t=Object(a.useState)([]),n=Object(p.a)(t,2),r=n[0],c=n[1],l=W();if(Object(a.useEffect)((function(){console.log("inside Generation useEffect");var e=[{generationAmount:65,generationDate:158858073e4},{generationAmount:75,generationDate:1588596856e3},{generationAmount:110,generationDate:1588686856e3},{generationAmount:70,generationDate:1588700199e3},{generationAmount:60,generationDate:1588710199e3},{generationAmount:45,generationDate:1588711539e3}].map((function(e){return{key:e.generationDate,generationAmount:e.generationAmount,generationDate:e.generationDate,revenue:.07*e.generationAmount}}));c(e)}),[]),!Array.isArray(r)||0===r.length)return console.log("Null generations"),null;console.log("length = "+r.length);var m=r.map((function(e){return o.a.createElement(K,{key:e.key},o.a.createElement(G,{component:"th",scope:"row"},T()(e.generationDate).format("DD/MM/YY HH:mm")),o.a.createElement(G,{align:"right"},e.generationAmount),o.a.createElement(G,{align:"right"},e.revenue.toFixed(2)))}));return o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a,{variant:"caption"},o.a.createElement(Y.c,{height:350,width:"95%"},o.a.createElement(Y.b,{data:r,margin:{top:20,right:30,left:10,bottom:60}},o.a.createElement("defs",null,o.a.createElement("linearGradient",{id:"colorCons",x1:"0",y1:"0",x2:"0",y2:"1"},o.a.createElement("stop",{offset:"5%",stopColor:"#85ed7e",stopOpacity:.8}),o.a.createElement("stop",{offset:"95%",stopColor:"#85ed7e",stopOpacity:0}))),o.a.createElement(Y.e,{dataKey:"generationDate",name:"Time",domain:["auto","auto"],type:"number",tickFormatter:function(e){return T()(e).format("DD/MM/YY HH:mm")},angle:-45,textAnchor:"end"}),o.a.createElement(Y.f,null),o.a.createElement(Y.d,{labelFormatter:function(e){return T()(e).format("DD/MM/YY HH:mm")},formatter:function(e){return"\xa3"+e.toFixed(2)}}),o.a.createElement(Y.a,{type:"monotone",dataKey:"revenue",stroke:"#85ed7e",fillOpacity:1,fill:"url(#colorCons)"})))),o.a.createElement(H.a,{component:N.a},o.a.createElement(j.a,{stickyHeader:!0,className:l.table,"aria-label":"simple table"},o.a.createElement(x.a,null,o.a.createElement(M.a,null,o.a.createElement(G,null,"Date"),o.a.createElement(G,{align:"right"},"Electricity generated (kWh)"),o.a.createElement(G,{align:"right"},"Revenue (\xa3)"))),o.a.createElement(w.a,null,m))))}var q="https://ytvl64ggq6.execute-api.us-east-1.amazonaws.com/dev";n(422);function I(e){return o.a.createElement(k.a,{m:4,component:"div",display:"block"},o.a.createElement(f.a,null,"Hello ",e.customerName))}function P(e){var t=Object(a.useState)(null),n=Object(p.a)(t,2),r=n[0],c=n[1],l=Object(a.useState)(""),m=Object(p.a)(l,2),i=m[0],h=m[1],j=Object(a.useState)([]),w=Object(p.a)(j,2),H=w[0],x=w[1];Object(a.useEffect)((function(){function e(){return(e=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(q+"/customers/");case 2:e.sent.json().then((function(e){x(e.map((function(e){return o.a.createElement("option",{key:e.Record.customerName,value:e.Record.customerName},e.Record.customerName)})))}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var M=function(){c(null)};return o.a.createElement(o.a.Fragment,null,o.a.createElement(A.a,null,o.a.createElement(E.a,{position:"static"},o.a.createElement(g.a,null,o.a.createElement(d.a,{edge:"start",color:"inherit","aria-label":"menu"},o.a.createElement(b.a,{onClick:function(e){c(e.currentTarget)}})),o.a.createElement(D.a,{id:"main-menu",anchorEl:r,keepMounted:!0,open:Boolean(r),onClose:M},o.a.createElement(y.a,{onClick:M,component:v.a,to:"/"},"Home"),o.a.createElement(y.a,{onClick:M,component:v.a,to:"/consumption"},"Consumption"),o.a.createElement(y.a,{onClick:M,component:v.a,to:"/generation"},"Generation"),o.a.createElement(y.a,{onClick:M,component:v.a,to:"/blockchain"},"Blockchain")),o.a.createElement(f.a,{variant:"h6"},"Sitigrid Demo"))),o.a.createElement(A.d,null,o.a.createElement(A.b,{path:"/consumption"},o.a.createElement(I,{customerName:i}),o.a.createElement(k.a,{m:4},o.a.createElement(f.a,null,"Consumption records:"),o.a.createElement(z,null)),"]"),o.a.createElement(A.b,{path:"/generation"},o.a.createElement(I,{customerName:i}),o.a.createElement(k.a,{m:4},o.a.createElement(f.a,null,"Generation records:"),o.a.createElement(J,null)),"]"),o.a.createElement(A.b,{path:"/blockchain"},o.a.createElement(k.a,{m:4},o.a.createElement(f.a,null,"Blockchain: (TBD)")),"]"),o.a.createElement(A.b,{path:"/"},o.a.createElement(k.a,{m:4},o.a.createElement(f.a,null,"Welcome to Sitigrid!"),o.a.createElement(f.a,null,"Energy Sharing for a carbon Neutral Network")),o.a.createElement(k.a,{m:4},o.a.createElement(f.a,null,"Please select a customer :"),o.a.createElement(O.a,null,o.a.createElement(C.a,{value:i,onChange:function(e){console.log("Setting customer name = "+e.target.value),h(e.target.value)}},o.a.createElement("option",{disabled:!0,"aria-label":"None",value:""}),H)))))))}var $=n(94),L=n(195),Q=Object(L.a)({palette:{primary:{main:"#556cd6"},secondary:{main:"#19857b"},error:{main:$.a.A400},background:{default:"#fff"}}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(m.a,{theme:Q},o.a.createElement(l.a,null),o.a.createElement(P,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[236,1,2]]]);
//# sourceMappingURL=main.815d2a29.chunk.js.map